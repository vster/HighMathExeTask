clear
digits(4)
syms x
f(x)=1/(1+x)
a=0
b=1
syms a0 a1 a2 a3
phi(x)=a0*x^3+a1*x^2+a2*x+a3
eq1=int((phi(x)-f(x))*x^3,x,a,b)
eq2=int((phi(x)-f(x))*x^2,x,a,b)
eq3=int((phi(x)-f(x))*x,x,a,b)
eq4=int((phi(x)-f(x)),x,a,b)
[a01 a11 a21 a31]=solve([eq1 eq2 eq3 eq4],[a0 a1 a2 a3])
a01=vpa(a01)
a11=vpa(a11)
a21=vpa(a21)
a31=vpa(a31)
phi(x)=subs(phi(x),[a0 a1 a2 a3],[a01 a11 a21 a31])
% - 0.2248*x^3 + 0.6646*x^2 - 0.9389*x + 0.9973

X=0:0.1:1
Y1=vpa(f(X))
% [ 1.0, 0.9091, 0.8333, 0.7692, 0.7143, 0.6667, 0.625, 0.5882, 0.5556, 0.5263, 0.5]
Y2=phi(X)
% [ 0.9973, 0.9098, 0.8343, 0.7693, 0.7137, 0.6659, 0.6246, 0.5886, 0.5564, 0.5267, 0.4981]
D=Y1-Y2
% [ 0.002721, -0.0007159, -0.0009449, -0.0001133, 0.0006302, 0.0008029, 0.0003799, -0.0003403, -0.0008259, -0.0003732, 0.001851]

Y3=interpol(f,a,b)
% - 0.2248*x^3 + 0.6646*x^2 - 0.9389*x + 0.9973

fplot(f(x),[a b])
hold on
fplot(phi(x),[a b])
grid on
hold off